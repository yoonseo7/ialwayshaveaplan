## 05.1 단기 테스트, 통합 테스트 진행(디버깅)

**❗알아두기**

```
- 단위 테스트(Unit Test): 사용자 요구사항에 대한 단위 모듈, 서브루틴 등을 테스트하는 단계 입니다. 코드의 각 부분이 예상대로 동작하는지 검증하고, 개별 단위가 다른 부분과 잘 통합되는지 확인하여 소프트웨어의 각 부분이 정확히 동작할 수 있도록 합니다.

- 통합 테스트(Integration Test): 단위 테스트를 통과한 컴포넌트 간의 인터페이스를 테스트하는 단계 입니다. 시스템의 각 부분이 상호 작용하여 예상대로 통합되고 동작하는지 확인하여 전체 시스템의 품질을 보증합니다.
```

### 05.1.1 테스트 시나리오 작성 (테스트 케이스)

#### 테스트 시나리오란?

테스트 시나리오란 어플리케이션의 테스트되어야 할 기능 및 특징, 테스트가 필요한 상황등을 작성한 문서입니다. 테스트 수행 절차를 미리 정함으로써 설계 단계해서 요구사항이나, 흐름등의 항목을 구성하여 테스트하기 위해 작성합니다.

테스트 시나리오 작성 시 유의사항으로 항목별로 시나리오를 분리하여 작성해야 합니다. 하나의 테스트 시나리오에 모든 테스트를 작성한다면 모든 기능을 테스트하기 어렵습니다. 또한 설계 시 요구사항을 토대로 테스트 시나리오를 상세히 작성해야합니다.

#### 테스트 케이스

테스트 수행 절차를 작성한 문서가 테스트 시나리오라면 테스트 케이스는 각각의 적용사항들입니다. 요구사항을 만족하는지, 기능이 작동하는지 확인하는데 필요한 단계, 데이터, 전제조건, 결과값들이 포함되어 작성됩니다. 설계 단계에서 테스트 항목을 명확하게 정의함으로써 설계의 미흡한 점을 미리 발견하고 조치함으로서 나중에 발생할 수 있는 문제를 사전에 예방할 수 있습니다. 또한 TDD(Test-Driven Development)등의 방법을 통해 테스트를 먼저 작성하고 코드가 요구사항을 충족할 수 있도록 작성하면, 오류를 조기에 발견하여 수정할 수 있습니다. 테스트를 통해 검증된 코드를 작성한다면 추후 시스템의 유지보수에 필요한 인력, 시간, 비용을 감소시킬 수 있으며, 요구사항 변경에도 테스트를 통해 기존 코드의 안정성을 보장할 수 있습니다. 다만, 테스트케이스를 미리 작성하는 것은 초기에 많은 시간이 요구되므로 시스템의 규모나 일정등을 고려하여 효울적인 일정계획을 수립해야 합니다. 만약 시스템의 **규모가 작고**, 요구사항 변경 **가능성이 낮다면**, 다른 방안을 고려해야 합니다.

#### 테스트 케이스 작성하기

테스트 케이스 작성 시 몇가지 지켜야하는 규칙이 있습니다. 대표적인 예시는 다음과 같습니다.

-   독립성 확보: 각 테스트 케이스의 결과가 다른 테스트에 영향을 주지 않아야 합니다.
-   명확한 테스트명 사용: 알아보기 쉬운 테스트명을 사용하여 다른 개발자가 어떤 테스트를 수행하는기 쉽게 인지알 수 있어야 합니다.
-   테스트 범위 제한: 특정 모듈, 기능을 다른 부분에 의존하지 않고 최소한의 코드만 실행되어야 합니다.
-   가독성 및 유지보수성: 테스트 코드는 읽기 쉬워야 합니다. 주석을 달아 테스트의 목적을 추가적으로 알릴 수 있습니다.
-   지속적인 테스트: 테스트는 새로운 기능이 추가되거나 코드가 변경될 때 마다 함께 진행하여 요구사항을 충족할 수 있도록 합니다.

테스트 케이스의 구성요소에는 "**식별자**", "**테스트 항목**", "**테스트 단계**", "**입력 데이터**", "**예상 출력명세**", "**실제 결과**" 및 "**통과여부**" 등이 있습니다. 아래는 테스트 케이스를 작성하는 예시입니다.

<img src="https://cdn.discordapp.com/attachments/876148399102115910/1200527432449523753/image.png?ex=65c6814c&is=65b40c4c&hm=64a51a09d2b91f59220226751f9f014a0fa4fc5cbd52ae9f0a854e07813f84ad&">

> -   테스트1: 올바른 이메일과 비밀번호로 로그인을 시도한 경우
> -   테스트2: 유효하지 않은 비밀번호로 로그인을 시도한 경우

테이스 케이스를 작성 후 테스트 코드를 작성합니다. 아래는 Django를 예시로 사용자가 로그인 하는 경우 테스트 코드입니다.

```python
from django.test import TestCase
from django.contrib.auth import get_user_model

User = get_user_model()
email = "test123@test123.com"
password = "test123"
loginurl = "/accounts/login/"


class MyTests(TestCase):
    def setUp(self):
        print("----------유저 생성-----------")
        self.user = User.objects.create_user(
            email=email,
            password=password,
        )

    def test_login_user(self):
        print("----------로그인 테스트-----------")

        response = self.client.post(loginurl, {"email": email, "password": password})
        print(response.data.get("message"))
        self.assertEqual(response.status_code, 200)

    def test_invalid_login(self):
        print("----------유요하지 않은 로그인 테스트-----------")

        response = self.client.post(loginurl, {"email": email, "password": "tste123"})
        print(response.data.get("message"))
        self.assertEqual(response.status_code, 401)
```

이후 테스트를 실행하여 결과를 확인합니다. 테스트한 어플리케이션의 기능의 성공과 실패를 판단하는 조건에 따라 성공여부를 작성합니다.

### 05.1.2 테스트 전략 (담당자간 의사소통)

아직 진행 X

블랙박스 테스트, 화이트박스 테스트

#### 테스트케이스 작성 절차

-   테스트 계획 수립
-   우선순위 선정
-   테스트 요구사항 정의
-   테스트 구조 설계 및 텍스트 방법 결정
-   테스트 케이스 작성
-   테스트 케이스 확인 및 유지보수

#### 테스트 케이스 구성요소

-   식별자
-   테스트 항목
-   입력 명세
-   출력 명세
-   환경설정
-   의존성 기술

#### 테스트 오라클

테스트 오라클은 테스트의 결과가 참인지 거짓인지를 판단하기 위해 사전 정의된 참값을 입력하여 비교하는 기법입니다. 테스트 오라클의 종류에는 **참 오라클**, **샘플링 오라클**, **휴리스틱 오라클**, **일관성 검사 오라클**이 있습니다.

##### 테스트 오라클의 종류

|              종류              |                                                       설명                                                        |
| :----------------------------: | :---------------------------------------------------------------------------------------------------------------: |
|        참(True) 오라클         |               모든 입력값에 대해 기대하는 결과를 생성하여 발생된 오류를 모두 검출할 수 있는 오라클                |
|    샘플링(Sampling) 오라클     |                             특정 입력값에 대해서만 기대하는 결과를 제공해주는 오라클                              |
|   휴리스틱(Heuristic) 오라클   | 샘플링 오라클을 개선해여, 특정 입력값에 올바른 결과를 제공해주고, 나머지 값들에 대해서는 추정으로 처리하는 오라클 |
| 일관성 검사(Consistent) 오라클 |                에플리케이션 변경이 있을 때, 수행 전후 결과값을 비교하여, 동일한지 확인하는 오라클                 |

참(True)오라클: 모든 입력

### 들어가기

테스트 전 요구사항을 정의하고 테스트 항목을 작성하는데 있어 담당자간 의사소통은 필수입니다. 프로젝트의 요구사항에 따라

## 05.2 사용자 피드백
